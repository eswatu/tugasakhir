<mat-card>
  <div fxLayout="row">
    <div fxLayout="column" fxLayoutAlign="center start">
      <mat-card-title>{{submission.subName}}</mat-card-title>
      <mat-card-subtitle>{{submission.subDate | date:'dd-MM-yyyy'}}</mat-card-subtitle>
      <mat-card-subtitle *ngIf="isAdmin" color="yellow">{{submission.User.name}}</mat-card-subtitle>
    </div>
    <span fxFlex></span>
    <div fxLayout="column" fxLayoutAlign="center end">
      <button mat-stroked-button color="accent" *ngIf="isSubmitted == false " (click)="edit()">Ubah</button>
    </div>
  </div>
  <mat-card-content>
    <!-- konten ya-->
    <ol>
      <li *ngFor="let st of allAssignLetter">
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{st}}
        </mat-panel-title>
        <mat-panel-description>
          <div fxFlex fxLayout="column">
            Klik untuk lihat daftar Kegiatan
          </div>
          <span fxFlex stretch></span>
          <div fxLayout="column">
            <b>{{getPoinPerAssignLetter(st)}}</b>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <!--isi, daftar kegiatan-->
      <ol>
        <li *ngFor="let item of allAct[st]">
          <p align="left" class="listedact" fxLayout="column">
            {{item.Butir.namaButir}}  pada {{ item.actDate | date:'dd-MM-yyyy'}}
            sejumlah {{item.butirVolume}} nilai {{ item.Butir.jmlPoin }} total:
          </p>
          <span></span>
          <p align="right" fxLayout="column" class="listedact">
            {{ getPoinCredit(item.Butir.jmlPoin , item.butirVolume) }}
          </p>
        </li>
      </ol>
    </mat-expansion-panel>
  </li>
</ol>
  </mat-card-content>
  <mat-card-actions>
    <div *ngIf="isAdmin == false">
      <div fxLayout="row">
        <div fxLayout="column">
          <button mat-button *ngIf="isSubmitted == false" (click)="submitSub()">Ajukan</button>
          <h3 *ngIf="isSubmitted == true" color="green">Sudah Diajukan</h3>
        </div>
        <span fxFlex stretch>
          <h3 *ngIf="submission.isSubmitted == true && submission.subScoreApproved == null" id="wait">Menunggu Approval</h3>
        </span>
        <div fxLayout="column">
          <mat-card-subtitle>Jumlah pengajuan saat ini: {{totalValue}}</mat-card-subtitle>
        </div>
      </div>
    </div>
    <div *ngIf="isAdmin == true">
      <p>approve saja</p>
    </div>
  </mat-card-actions>
</mat-card>
